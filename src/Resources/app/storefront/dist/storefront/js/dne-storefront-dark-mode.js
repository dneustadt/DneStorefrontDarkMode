"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["dne-storefront-dark-mode"],{7399:(e,t,n)=>{var d=n(6285);class a extends d.Z{init(){this.el.addEventListener("click",this._onClick.bind(this)),this.el.addEventListener("touchend",this._onClick.bind(this))}_onClick(e){e.preventDefault(),e.stopPropagation();const t="1"===this.el.getAttribute("data-dne-storefront-dark-mode-detection-disabled"),n=document.documentElement;let d=n.getAttribute("data-theme");d||t?d||(d="light"):d=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light","light"===d?(n.setAttribute("data-theme","dark"),localStorage.setItem("dne-storefront-dark-mode-theme","dark")):(n.setAttribute("data-theme","light"),localStorage.setItem("dne-storefront-dark-mode-theme","light"))}}window.PluginManager.register("DneStorefrontDarkModePlugin",a,"[data-dne-storefront-dark-mode-toggle]"),document.addEventListener("DOMContentLoaded",(()=>{window.PluginManager.getPluginInstances("OffcanvasMenu").forEach((e=>{e.$emitter.subscribe("openMenu",(()=>{window.PluginManager.initializePlugin("DneStorefrontDarkModePlugin","[data-dne-storefront-dark-mode-toggle]")}))}))}),!1)}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return t=7399,e(e.s=t);var t}));e.O()}]);